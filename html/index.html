<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="viewport" content = "height = device-height, width = 420, user-scalable = no" /> 
	<title>WebRobot</title>
	<script type="text/javascript" src="/webiopi.js"></script>
	<script type="text/javascript">

        function dht() {
            var updatetemp = function (macro, args, response) {
                var temp = response.split(";");
                // Following lines use jQuery functions
                $("#humidity").val(temp[0]);
                $("#temperature").val(temp[1]);
            };
            webiopi().callMacro("temperature", [], updatetemp);
        }

        function init() {
            setInterval(dht, 500);
        }

        function Stop() {
                webiopi().callMacro("STOP");
        }

        function Forward() {
                webiopi().callMacro("FORWARD");
        }


        function Reverse() {
               webiopi().callMacro("BACKWARD");
        }

        function TurnLeft() {
               webiopi().callMacro("LEFT");
        }

        function TurnRight() {
               webiopi().callMacro("RIGHT");
        }
     


        
	
       webiopi().ready(init);
		
	</script>
	<style  type="text/css">
		button.small {
			margin: 1px 1px 1px 1px;
			width: 24px;
			height: 24px;
			font-size: 12pt;
			font-weight: bold;
			color: black;
		}

		button   {
			margin: 1px 1px 1px 1px;
			width: 90px;
			height: 24px;
			font-size: 12pt;
			font-weight: bold;
			color: black;
		}
	</style>



</head>
<body>
	<div id="content" align="center">
		<img width="800" height="450" src="http://10.11.12.117:10088/?action=stream"><br/>
                <table width="800" border=2>
                
                <tr><td>
                <center>
                <table>
                <tr><td colspan=3 align="center"><button class="long" type="button" onmousedown="Forward()" onmouseup="Stop()">Avancer</button></td></tr>
                <tr><td><button type="button" onmousedown="TurnLeft()" onmouseup="Stop()">Gauche</button></td>
                    <td><button type="button" onclick="Stop()">Stop</button></td>
                    <td><button type="button" onmousedown="TurnRight()" onmouseup="Stop()">Droite</button></td></tr>
                <tr><td colspan=3 align="center"><button type="button" onmousedown="Reverse()" onmouseup="Stop()">Reculer</button></td></tr>
                </table>
                </center>
                 </td>
                    <div align="center">
                        humidite:<input type="text" id="humidity" /><br />
                        temperature: <input type="text" id="temperature" /><br />
                        <div id="controls"></div>
                    </div>

                
                
                </table>
                </centre>
                </table>
	</div>
</body>
</html>

